{% extends 'base.html' %}
{% block title %}Search{% endblock %}
{% block content %}
<style>
.search-container {
  max-width: 700px;
  margin: 40px auto;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.09);
  padding: 36px 32px;
  font-family: 'Segoe UI', sans-serif;
}
.search-bar {
  display: flex;
  gap: 12px;
  margin-bottom: 24px;
}
.search-bar input[type="text"] {
  flex: 1;
  padding: 12px 16px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 1.1rem;
}
.search-bar button {
  padding: 12px 24px;
  background: #1976d2;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 1.1rem;
  cursor: pointer;
}
.search-results {
  margin-top: 18px;
}
.result-section {
  margin-bottom: 24px;
}
.result-section h3 {
  margin-bottom: 8px;
  color: #1976d2;
}
</style>
<div class="search-container">
  <form class="search-bar" method="get" action="/search">
    <input type="text" name="q" placeholder="Search jobs, candidates, etc..." value="{{ request.args.get('q', '') }}" required>
    <button type="submit">Search</button>
  </form>
  <div class="search-results">
    {% if results %}
      {% if results.jobs %}
      <div class="result-section">
        <h3>Jobs</h3>
        <ul>
          {% for job in results.jobs %}
            <li><a href="{{ url_for('job_details', job_id=job['job_id']) }}">{{ job['job_title'] }}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      {% if results.candidates %}
      <div class="result-section">
        <h3>Candidates</h3>
        <ul>
          {% for candidate in results.candidates %}
            <li><a href="{{ url_for('candidate_profile', candidate_id=candidate['id']) }}">{{ candidate['name'] }}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      {% if not results.jobs and not results.candidates %}
        <div>No results found.</div>
      {% endif %}
    {% elif request.args.get('q') %}
      <div>No results found.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
